<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/png" href="/images/favicon.png"><meta name="generator" content="Astro v4.16.18"><script>
      (function () {
        // Always use system preference
        const systemPrefersDark = window.matchMedia(
          "(prefers-color-scheme: dark)"
        ).matches;

        const currentTheme = systemPrefersDark ? "dark" : "light";
        const html = document.documentElement;
        
        // Apply theme based on system preference
        html.classList.add(
          currentTheme === "dark" ? "dark-theme" : "light-theme"
        );

        // Listen for system theme changes and update automatically
        window
          .matchMedia("(prefers-color-scheme: dark)")
          .addEventListener("change", (e) => {
            // Remove existing theme classes
            html.classList.remove("light-theme", "dark-theme");
            
            // Apply new system theme
            if (e.matches) {
              html.classList.add("dark-theme");
            } else {
              html.classList.add("light-theme");
            }
          });
      })();
    </script><!-- Removed theme toggle functionality as it's no longer needed --><!-- SEO --><title>Upstream | brunokoga.com</title><meta name="description" content="Day on the Pacific Crest Trail - U"><link rel="canonical" href="https://brunokoga.com/adventures/pct/2024-05-01-upstream/"><!-- Open Graph / Facebook --><meta property="og:type" content="article"><meta property="og:url" content="https://brunokoga.com/adventures/pct/2024-05-01-upstream/"><meta property="og:title" content="Upstream | brunokoga.com"><meta property="og:description" content="Day on the Pacific Crest Trail - U"><meta property="og:image" content="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/photos/5469D2E0-E3DC-49CE-A0DE-760D0BDD60B5_D478C450-66C5-4E02-9336-9E8E603AB46A.jpg.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://brunokoga.com/adventures/pct/2024-05-01-upstream/"><meta property="twitter:title" content="Upstream | brunokoga.com"><meta property="twitter:description" content="Day on the Pacific Crest Trail - U"><meta property="twitter:image" content="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/photos/5469D2E0-E3DC-49CE-A0DE-760D0BDD60B5_D478C450-66C5-4E02-9336-9E8E603AB46A.jpg.jpg"><!-- Stylesheets - AFTER theme detection --><link rel="stylesheet" href="/styles/highde.css"><!-- RSS Feed --><link rel="alternate" type="application/rss+xml" title="brunokoga.com" href="/rss.xml"><style>.audio-box[data-astro-cid-pgr4kkuk]{background-color:var(--audio-bg);border:1px solid var(--border-color);border-radius:12px;padding:16px;margin-bottom:24px;transition:all .3s ease;box-shadow:0 2px 4px #0000001a}.audio-box[data-astro-cid-pgr4kkuk]:hover{border-color:var(--accent-color);box-shadow:0 4px 8px #8b5cf640}.speed-controls[data-astro-cid-pgr4kkuk]{margin-top:12px;text-align:center}audio[data-astro-cid-pgr4kkuk]{width:100%;height:44px;transition:all .3s ease;border-radius:8px;background-color:var(--highlight-bg)}.playback-speed-button[data-astro-cid-pgr4kkuk]{border:1px solid var(--border-color);background-color:var(--audio-button-bg);color:var(--audio-button-text);padding:8px 16px;margin:4px 8px;font-size:14px;font-weight:500;border-radius:8px;cursor:pointer;transition:all .3s ease;display:inline-block;text-decoration:none;box-shadow:0 1px 3px #0003}.playback-speed-button[data-astro-cid-pgr4kkuk]:hover{background-color:var(--audio-button-hover);color:#fff;border-color:var(--audio-button-hover);transform:translateY(-1px);box-shadow:0 2px 6px #8b5cf666}.playback-speed-button[data-astro-cid-pgr4kkuk]:active{transform:translateY(0);box-shadow:0 1px 3px #0003}.playback-speed-button[data-astro-cid-pgr4kkuk]:last-child{margin-right:0}.dark-theme .audio-box[data-astro-cid-pgr4kkuk]{background-color:#2d3748;border-color:#4a5568;box-shadow:0 2px 8px #0006}.dark-theme .audio-box[data-astro-cid-pgr4kkuk]:hover{background-color:#374151;box-shadow:0 4px 12px #8b5cf64d}.dark-theme audio[data-astro-cid-pgr4kkuk]{background-color:#1a202c;border:1px solid #4a5568;filter:brightness(.7) contrast(1.3) hue-rotate(180deg)}.dark-theme .playback-speed-button[data-astro-cid-pgr4kkuk]{background-color:#4a5568;color:#e2e8f0;border-color:#718096}.dark-theme .playback-speed-button[data-astro-cid-pgr4kkuk]:hover{background-color:#8b5cf6;color:#fff;box-shadow:0 2px 8px #8b5cf680}.light-theme .audio-box[data-astro-cid-pgr4kkuk]{background-color:#e0e0e0;border-color:#d0d0d0;box-shadow:0 2px 4px #0000001a}.light-theme audio[data-astro-cid-pgr4kkuk]{background-color:#f7fafc;border:1px solid #e2e8f0;filter:none}.light-theme .playback-speed-button[data-astro-cid-pgr4kkuk]{background-color:#f0f0f0;color:#333;border-color:#d0d0d0}.light-theme .playback-speed-button[data-astro-cid-pgr4kkuk]:hover{background-color:#639;color:#fff;box-shadow:0 2px 6px #6633994d}
.post-preview[data-astro-cid-jzq3evcu]{margin-bottom:2rem;padding-bottom:2rem;border-bottom:1px solid #eee}.post-preview[data-astro-cid-jzq3evcu]:last-child{border-bottom:none}.post-preview[data-astro-cid-jzq3evcu] h3[data-astro-cid-jzq3evcu]{margin:0 0 .5rem}.post-preview[data-astro-cid-jzq3evcu] h3[data-astro-cid-jzq3evcu] a[data-astro-cid-jzq3evcu]{text-decoration:none;color:inherit}.post-preview[data-astro-cid-jzq3evcu] h3[data-astro-cid-jzq3evcu] a[data-astro-cid-jzq3evcu]:hover{color:var(--accent-color, #8b5cf6)}.post-date[data-astro-cid-jzq3evcu]{color:#666;font-size:.9rem;margin-bottom:1rem;display:block}.post-description[data-astro-cid-jzq3evcu]{margin:1rem 0;color:#555;line-height:1.6}.post-cover-image[data-astro-cid-jzq3evcu]{margin:1.5rem 0;border-radius:8px;overflow:hidden}.post-cover-image[data-astro-cid-jzq3evcu] img[data-astro-cid-jzq3evcu]{width:100%;height:200px;object-fit:cover;display:block}.read-more[data-astro-cid-jzq3evcu]{margin-top:1rem}.read-more[data-astro-cid-jzq3evcu] a[data-astro-cid-jzq3evcu]{color:var(--accent-color, #8b5cf6);text-decoration:none;font-weight:500}.read-more[data-astro-cid-jzq3evcu] a[data-astro-cid-jzq3evcu]:hover{text-decoration:underline}
</style><style>.media-carousel-wrapper[data-astro-cid-cvpngeox]{margin:2rem 0;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px #0000001a}.lazy-carousel[data-astro-cid-cvpngeox] .media-content[data-astro-cid-cvpngeox]{background:#f8f9fa;min-height:200px;display:flex;align-items:center;justify-content:center}.lazy-carousel[data-astro-cid-cvpngeox] .media-content[data-astro-cid-cvpngeox]:not([src]):not([data-loaded]){background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:loading 1.5s infinite}@keyframes loading{0%{background-position:200% 0}to{background-position:-200% 0}}.media-carousel[data-astro-cid-cvpngeox]{background:#f8f9fa;padding:1rem}.swiper[data-astro-cid-cvpngeox]{width:100%;height:auto;min-height:300px;padding-bottom:50px}.swiper-slide[data-astro-cid-cvpngeox]{display:flex;justify-content:center;align-items:center}.media-item[data-astro-cid-cvpngeox]{width:100%;max-width:800px;display:flex;flex-direction:column;background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #0000001a}.media-content[data-astro-cid-cvpngeox]{width:100%;height:auto;max-height:600px;object-fit:contain;display:block}.media-caption[data-astro-cid-cvpngeox]{padding:.75rem 1rem;background:#fff;display:flex;align-items:center;gap:.5rem;border-top:1px solid #e9ecef}.media-type[data-astro-cid-cvpngeox]{font-size:1rem}.media-title[data-astro-cid-cvpngeox]{font-size:.875rem;color:#6c757d;font-weight:500}.swiper-pagination[data-astro-cid-cvpngeox]{bottom:15px!important}.swiper-button-next[data-astro-cid-cvpngeox],.swiper-button-prev[data-astro-cid-cvpngeox]{color:#ffffffe6;background:#0006;border-radius:50%;width:36px;height:36px;margin-top:-18px;transition:background-color .3s ease}.swiper-button-next[data-astro-cid-cvpngeox]:hover,.swiper-button-prev[data-astro-cid-cvpngeox]:hover{background:#0009}.swiper-button-next[data-astro-cid-cvpngeox]:after,.swiper-button-prev[data-astro-cid-cvpngeox]:after{font-size:14px}.swiper-pagination-bullet[data-astro-cid-cvpngeox]{background:#fffc;opacity:1}.swiper-pagination-bullet-active[data-astro-cid-cvpngeox]{background:#fff}@media (max-width: 768px){.media-carousel-wrapper[data-astro-cid-cvpngeox]{margin:1.5rem -1rem;border-radius:0}.media-carousel[data-astro-cid-cvpngeox]{padding:.75rem}.swiper[data-astro-cid-cvpngeox]{min-height:250px;padding-bottom:40px}.media-content[data-astro-cid-cvpngeox]{max-height:400px}.swiper-button-next[data-astro-cid-cvpngeox],.swiper-button-prev[data-astro-cid-cvpngeox]{width:32px;height:32px;margin-top:-16px}.swiper-button-next[data-astro-cid-cvpngeox]:after,.swiper-button-prev[data-astro-cid-cvpngeox]:after{font-size:12px}}
</style></head> <body class="content container"> <!-- Sidebar Navigation --> <header class="masthead"> <!-- Profile Section - moved outside masthead-inner --> <div class="profile-section"> <div class="profile-image-container"> <img src="/images/profile.png" alt="Bruno Koga" class="profile-image"> </div> <h1 class="profile-name">Bruno Koga</h1> <p class="profile-bio">iOS Developer &amp; Tech Enthusiast. Sharing thoughts on technology, travel, and life experiences.</p> </div> <!-- Navigation - stays in masthead-inner at bottom --> <div class="masthead-inner"> <div class="colophon"> <ul class="colophon-links"> <li> <a href="/" class=""> About </a> </li> <li> <a href="/posts" class=""> Posts </a> </li><li> <a href="/projects" class=""> Projects </a> </li><li> <a href="/adventures" class="selected"> Adventures </a> </li><li> <a href="/cv" class=""> CV </a> </li><li> <a href="/contact" class=""> Contact </a> </li> </ul> </div> </div> </header> <!-- Main Content --> <main>  <div class="posts"> <!-- Main Content --> <div class="post"> <h1> <a href="/adventures/pct/2024-05-01-upstream"> Upstream </a> </h1> <span class="post-date"> May 1, 2024 </span>  <div class="post-content"> <p>Day 14</p>
<p>Whitewater Preserve (mile 218.5) to mile 236.9</p>
<p>PCT Miles: 18.4 (29.4km)</p>
<p>Total Miles: 236.9 (379km)</p>
<p>You know your day will be awesome when it’s not even 6am and you’re already barefoot, crossing an ice cold stream. Silly me, taking out my shoes to cross the stream…</p>
<p>I learned yesterday that in 2023 a hurricane (Hillary) completely devastated this part of the PCT. In short, there’s one part of the PCT (around 10 miles) that is completely gone and in order to advance you have to hike upstream on a creek. Sounds like fun!</p>
<p>And it was actually fun. For the first 2-3 hours, but not the whole day. Today’s hike looked the same throughout the day: hiking uphill, on a very difficult and annoying terrain (rocks, rocks everywhere) and crossing a water stream back and forth for almost a hundred times! At least carrying water was not a problem today…</p>
<p>Today was also the first day that I had the full rattlesnake experience: being rattled at, almost having a heart attack, and then seeing the monster looking at you as if it want to eat you alive. All of that with that rattle that sounds like a death sentence. At least, with rattlesnakes the theory works: just go back, give it some space and at some point it’ll go away. That’s exactly what happened 😮‍💨. I also saw another rattlesnake later, but that one was more chill (see picture).</p>
<p>After like 8 hours of hiking in the exact same scenario (11 hours total), I finally got out of the creek and finally rejoined the undamaged part of the PCT. In the end I found a very nice spot to camp tonight.</p>
<p>PS: my little toes look like chickpeas ready to be peeled 🫣!</p>
<div class="media-carousel-wrapper " data-astro-cid-cvpngeox><div class="media-carousel" id="media-carousel-curm9hq63" data-astro-cid-cvpngeox><div class="swiper" data-astro-cid-cvpngeox><div class="swiper-wrapper" data-astro-cid-cvpngeox><div class="swiper-slide" data-astro-cid-cvpngeox><div class="media-item" data-astro-cid-cvpngeox><img src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/photos/5469D2E0-E3DC-49CE-A0DE-760D0BDD60B5_D478C450-66C5-4E02-9336-9E8E603AB46A.jpg.jpg" data-src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/photos/5469D2E0-E3DC-49CE-A0DE-760D0BDD60B5_D478C450-66C5-4E02-9336-9E8E603AB46A.jpg.jpg" alt="Photo 1" loading="lazy" class="media-content" data-astro-cid-cvpngeox><div class="media-caption" data-astro-cid-cvpngeox><span class="media-type" data-astro-cid-cvpngeox>📷</span><span class="media-title" data-astro-cid-cvpngeox>Photo 1</span></div></div></div><div class="swiper-slide" data-astro-cid-cvpngeox><div class="media-item" data-astro-cid-cvpngeox><img src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/photos/A58DE20C-56B1-4CF4-9773-3D914449046F_190755DD-C14B-4BF3-947B-C1BD94F4D458.jpg.jpg" data-src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/photos/A58DE20C-56B1-4CF4-9773-3D914449046F_190755DD-C14B-4BF3-947B-C1BD94F4D458.jpg.jpg" alt="Photo 2" loading="lazy" class="media-content" data-astro-cid-cvpngeox><div class="media-caption" data-astro-cid-cvpngeox><span class="media-type" data-astro-cid-cvpngeox>📷</span><span class="media-title" data-astro-cid-cvpngeox>Photo 2</span></div></div></div><div class="swiper-slide" data-astro-cid-cvpngeox><div class="media-item" data-astro-cid-cvpngeox><img src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/photos/B9908769-130B-4FA7-BB0D-1C96D3158205_6ACDD709-5A35-4AF1-8614-C9CD05AC736C.jpg.jpg" data-src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/photos/B9908769-130B-4FA7-BB0D-1C96D3158205_6ACDD709-5A35-4AF1-8614-C9CD05AC736C.jpg.jpg" alt="Photo 3" loading="lazy" class="media-content" data-astro-cid-cvpngeox><div class="media-caption" data-astro-cid-cvpngeox><span class="media-type" data-astro-cid-cvpngeox>📷</span><span class="media-title" data-astro-cid-cvpngeox>Photo 3</span></div></div></div><div class="swiper-slide" data-astro-cid-cvpngeox><div class="media-item" data-astro-cid-cvpngeox><video src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/381658ec-33ff-4560-89a4-c3e6decd7a1e_video.mp4" data-src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/381658ec-33ff-4560-89a4-c3e6decd7a1e_video.mp4" controls preload="metadata" class="media-content" data-astro-cid-cvpngeox><p data-astro-cid-cvpngeox>Your browser doesn't support HTML video.</p></video><div class="media-caption" data-astro-cid-cvpngeox><span class="media-type" data-astro-cid-cvpngeox>🎥</span><span class="media-title" data-astro-cid-cvpngeox>Video 1</span></div></div></div><div class="swiper-slide" data-astro-cid-cvpngeox><div class="media-item" data-astro-cid-cvpngeox><video src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/8413783f-7169-4844-ae4c-92acd0d5d96b_video.mp4" data-src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/8413783f-7169-4844-ae4c-92acd0d5d96b_video.mp4" controls preload="metadata" class="media-content" data-astro-cid-cvpngeox><p data-astro-cid-cvpngeox>Your browser doesn't support HTML video.</p></video><div class="media-caption" data-astro-cid-cvpngeox><span class="media-type" data-astro-cid-cvpngeox>🎥</span><span class="media-title" data-astro-cid-cvpngeox>Video 2</span></div></div></div><div class="swiper-slide" data-astro-cid-cvpngeox><div class="media-item" data-astro-cid-cvpngeox><video src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/857b9658-5895-40f5-a1e9-121e3dda65db_video.mp4" data-src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/857b9658-5895-40f5-a1e9-121e3dda65db_video.mp4" controls preload="metadata" class="media-content" data-astro-cid-cvpngeox><p data-astro-cid-cvpngeox>Your browser doesn't support HTML video.</p></video><div class="media-caption" data-astro-cid-cvpngeox><span class="media-type" data-astro-cid-cvpngeox>🎥</span><span class="media-title" data-astro-cid-cvpngeox>Video 3</span></div></div></div><div class="swiper-slide" data-astro-cid-cvpngeox><div class="media-item" data-astro-cid-cvpngeox><video src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/85d67628-c1df-45f5-8805-b613f5e1a4a6_video.mp4" data-src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/85d67628-c1df-45f5-8805-b613f5e1a4a6_video.mp4" controls preload="metadata" class="media-content" data-astro-cid-cvpngeox><p data-astro-cid-cvpngeox>Your browser doesn't support HTML video.</p></video><div class="media-caption" data-astro-cid-cvpngeox><span class="media-type" data-astro-cid-cvpngeox>🎥</span><span class="media-title" data-astro-cid-cvpngeox>Video 4</span></div></div></div><div class="swiper-slide" data-astro-cid-cvpngeox><div class="media-item" data-astro-cid-cvpngeox><video src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/8e01569e-6a6f-4479-a891-d316bf754975_video.mp4" data-src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/8e01569e-6a6f-4479-a891-d316bf754975_video.mp4" controls preload="metadata" class="media-content" data-astro-cid-cvpngeox><p data-astro-cid-cvpngeox>Your browser doesn't support HTML video.</p></video><div class="media-caption" data-astro-cid-cvpngeox><span class="media-type" data-astro-cid-cvpngeox>🎥</span><span class="media-title" data-astro-cid-cvpngeox>Video 5</span></div></div></div><div class="swiper-slide" data-astro-cid-cvpngeox><div class="media-item" data-astro-cid-cvpngeox><video src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/bd63e6ca-1612-4b55-a890-7e3eb9f6fa35_video.mp4" data-src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/bd63e6ca-1612-4b55-a890-7e3eb9f6fa35_video.mp4" controls preload="metadata" class="media-content" data-astro-cid-cvpngeox><p data-astro-cid-cvpngeox>Your browser doesn't support HTML video.</p></video><div class="media-caption" data-astro-cid-cvpngeox><span class="media-type" data-astro-cid-cvpngeox>🎥</span><span class="media-title" data-astro-cid-cvpngeox>Video 6</span></div></div></div><div class="swiper-slide" data-astro-cid-cvpngeox><div class="media-item" data-astro-cid-cvpngeox><video src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/c179a7ba-d1b8-4132-a0a3-05c366ead4b2_video.mp4" data-src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/c179a7ba-d1b8-4132-a0a3-05c366ead4b2_video.mp4" controls preload="metadata" class="media-content" data-astro-cid-cvpngeox><p data-astro-cid-cvpngeox>Your browser doesn't support HTML video.</p></video><div class="media-caption" data-astro-cid-cvpngeox><span class="media-type" data-astro-cid-cvpngeox>🎥</span><span class="media-title" data-astro-cid-cvpngeox>Video 7</span></div></div></div><div class="swiper-slide" data-astro-cid-cvpngeox><div class="media-item" data-astro-cid-cvpngeox><video src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/c2d7c542-9df5-415f-a9c3-a7f9b5efb543_video.mp4" data-src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/c2d7c542-9df5-415f-a9c3-a7f9b5efb543_video.mp4" controls preload="metadata" class="media-content" data-astro-cid-cvpngeox><p data-astro-cid-cvpngeox>Your browser doesn't support HTML video.</p></video><div class="media-caption" data-astro-cid-cvpngeox><span class="media-type" data-astro-cid-cvpngeox>🎥</span><span class="media-title" data-astro-cid-cvpngeox>Video 8</span></div></div></div><div class="swiper-slide" data-astro-cid-cvpngeox><div class="media-item" data-astro-cid-cvpngeox><video src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/d0fc35ba-7094-433a-b0f3-91e6cf88ebb1_video.mp4" data-src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/d0fc35ba-7094-433a-b0f3-91e6cf88ebb1_video.mp4" controls preload="metadata" class="media-content" data-astro-cid-cvpngeox><p data-astro-cid-cvpngeox>Your browser doesn't support HTML video.</p></video><div class="media-caption" data-astro-cid-cvpngeox><span class="media-type" data-astro-cid-cvpngeox>🎥</span><span class="media-title" data-astro-cid-cvpngeox>Video 9</span></div></div></div><div class="swiper-slide" data-astro-cid-cvpngeox><div class="media-item" data-astro-cid-cvpngeox><video src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/e2136b83-860d-48a4-bc20-79445ce7eaae_video.mp4" data-src="https://bruno-polarsteps.s3.eu-central-1.amazonaws.com/pct/san-bernardino-county/videos/e2136b83-860d-48a4-bc20-79445ce7eaae_video.mp4" controls preload="metadata" class="media-content" data-astro-cid-cvpngeox><p data-astro-cid-cvpngeox>Your browser doesn't support HTML video.</p></video><div class="media-caption" data-astro-cid-cvpngeox><span class="media-type" data-astro-cid-cvpngeox>🎥</span><span class="media-title" data-astro-cid-cvpngeox>Video 10</span></div></div></div></div><div class="swiper-pagination" data-astro-cid-cvpngeox></div><div class="swiper-button-next" data-astro-cid-cvpngeox></div><div class="swiper-button-prev" data-astro-cid-cvpngeox></div></div></div></div><script>(function(){const carouselId = "media-carousel-curm9hq63";
const lazy = false;

(function() {
// Lazy loading function
function loadCarouselMedia() {
  const carousel = document.querySelector(`#${carouselId}`);
  if (!carousel) return;

  const images = carousel.querySelectorAll('img[data-src]');
  const videos = carousel.querySelectorAll('video[data-src]');

  images.forEach(img => {
    if (img.dataset.src && (!img.src || img.src === '' || img.src === window.location.href)) {
      img.src = img.dataset.src;
      img.setAttribute('data-loaded', 'true');
    }
  });

  videos.forEach(video => {
    if (video.dataset.src && (!video.src || video.src === '' || video.src === window.location.href)) {
      video.src = video.dataset.src;
      video.setAttribute('data-loaded', 'true');
    }
  });
}

function initializeCarousel() {
  const swiperElement = document.querySelector(`#${carouselId} .swiper`);
  if (!swiperElement) {
    return;
  }
  
  // Load media if lazy loading is enabled
  if (lazy) {
    loadCarouselMedia();
  }
  
  new Swiper(swiperElement, {
    slidesPerView: 1,
    spaceBetween: 20,
    loop: false,
    navigation: {
      nextEl: `#${carouselId} .swiper-button-next`,
      prevEl: `#${carouselId} .swiper-button-prev`,
    },
    pagination: {
      el: `#${carouselId} .swiper-pagination`,
      clickable: true,
      dynamicBullets: true,
    },
    keyboard: {
      enabled: true,
      onlyInViewport: true,
    },
    on: {
      slideChange: function() {
        // Pause all videos when sliding
        const videos = this.el.querySelectorAll('video');
        videos.forEach(video => {
          if (!video.paused) {
            video.pause();
          }
        });
      }
    }
  });
}

// Initialize Swiper when loaded
function initializeSwiper() {
  // Ensure Swiper CSS is loaded first
  if (!document.querySelector('link[href*="swiper"]')) {
    const swiperCSS = document.createElement('link');
    swiperCSS.rel = 'stylesheet';
    swiperCSS.href = 'https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css';
    document.head.appendChild(swiperCSS);
  }

  // Load Swiper JS if not available
  if (typeof Swiper === 'undefined') {
    if (!document.querySelector('script[src*="swiper"]')) {
      const swiperScript = document.createElement('script');
      swiperScript.src = 'https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js';
      swiperScript.onload = function() {
        initializeCarousel();
      };
      document.head.appendChild(swiperScript);
      return;
    } else {
      // Script is loading, wait for it
      setTimeout(initializeSwiper, 100);
      return;
    }
  }

  initializeCarousel();
}

// Setup intersection observer for lazy loading
if (lazy) {
  function setupIntersectionObserver() {
    const carouselElement = document.querySelector(`#${carouselId}`);
    
    if (!carouselElement) {
      setTimeout(setupIntersectionObserver, 100);
      return;
    }

    const observerOptions = {
      root: null,
      rootMargin: '100px',
      threshold: 0.1
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          observer.unobserve(entry.target);
          initializeSwiper();
        }
      });
    }, observerOptions);

    observer.observe(carouselElement);
  }

  // Setup observer when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', setupIntersectionObserver);
  } else {
    setupIntersectionObserver();
  }
} else {
  // Initialize immediately for non-lazy carousels
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => {
      setTimeout(initializeSwiper, 50);
    });
  } else {
    setTimeout(initializeSwiper, 50);
  }
}
})();
})();</script> </div> </div> <!-- Subposts from item subfolder -->  </div>  </main> <!-- Footer --> <footer> <!-- Empty footer as per original theme --> </footer> </body></html>